<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Reyy Marketplace</title>
<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js"></script>
<style>
body {
  font-family: 'Segoe UI', sans-serif;
  margin: 0;
  background: linear-gradient(135deg, #0a0f2c, #1e2a78, #0a0f2c);
  color: white;
  text-align: center;
  overflow-x: hidden;
}

/* Background motif digital */
body::before {
  content:"";
  position: fixed;
  top:0; left:0;
  width:100%; height:100%;
  background-image: linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px),
                    linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px);
  background-size: 40px 40px;
  z-index: -1;
}

header {
  font-size: 24px;
  margin: 20px 0;
}
.card {
  background: rgba(0,0,0,0.6);
  padding: 25px;
  border-radius: 15px;
  width: 320px;
  margin: 20px auto;
  box-shadow: 0 0 20px #00f2ff;
}
input {
  width: 90%;
  padding: 10px;
  margin: 10px 0;
  border-radius: 8px;
  border: none;
  outline: none;
}
button {
  width: 95%;
  padding: 10px;
  margin: 8px 0;
  border-radius: 8px;
  border: none;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s;
}
button:hover { background:#007bff;color:white; }
.products {
  display: grid;
  grid-template-columns: repeat(auto-fill,minmax(200px,1fr));
  gap: 15px;
  margin-top: 20px;
}
.product {
  background: rgba(255,255,255,0.1);
  border-radius: 12px;
  padding: 12px;
  transition: transform 0.3s, box-shadow 0.3s;
}
.product:hover {
  transform: translateY(-5px);
  box-shadow: 0 0 20px #00f2ff;
}
.product h3 { margin-bottom: 10px; }
.whatsapp { background:#25D366;color:white; }
.page { display:none; opacity:0; transition: opacity 0.5s ease; }
.page.active { display:block; opacity:1; }
audio { display:none; }
</style>
</head>
<body>
<header>ðŸŒ¸ Reyy Marketplace â€” Digital Hosting Jepang ðŸŒ¸</header>

<!-- Audio background -->
<audio id="bg-audio" autoplay loop>
  <source src="3_03_PM.mp3" type="audio/mpeg">
</audio>

<!-- LOGIN/REGISTER -->
<div id="auth-card" class="card page active">
  <h2>Login / Register</h2>
  <input type="email" id="email" placeholder="Email"><br>
  <input type="password" id="password" placeholder="Password"><br>
  <button onclick="login()">Login</button>
  <button onclick="register()">Register</button>
  <button onclick="loginGoogle()">Login dengan Google</button>
  <p id="status"></p>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="page">
  <h2>Selamat Datang ðŸŽ‰</h2>
  <div class="products" id="product-list"></div>
  <button onclick="logout()">Logout</button>
</div>

<script>
// ðŸ”¹ Firebase Config
const firebaseConfig = {
  apiKey: "AIzaSyDltD_W1vvEHioWiXZZwVtTqmAXZtXTHq4",
  authDomain: "reyymarketplace-fe133.firebaseapp.com",
  projectId: "reyymarketplace-fe133",
  storageBucket: "reyymarketplace-fe133.appspot.com",
  messagingSenderId: "407298452232",
  appId: "1:407298452232:web:0ffdb875e5463649d51abd",
  measurementId: "G-4T3HQ6PZF3"
};
const app = firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

// ðŸ”¹ Produk
const products = [
  {name:"Hosting Basic", price:"Rp50.000"},
  {name:"Hosting Pro", price:"Rp100.000"},
  {name:"Hosting Premium", price:"Rp150.000"},
  {name:"Hosting Unlimited", price:"Rp200.000"},
  {name:"Hosting SSD", price:"Rp250.000"},
  {name:"Hosting Cloud", price:"Rp300.000"},
  {name:"Hosting VPS", price:"Rp500.000"},
  {name:"Hosting Business", price:"Rp600.000"},
  {name:"Hosting Developer", price:"Rp700.000"},
  {name:"Hosting Enterprise", price:"Rp1.000.000"},
  {name:"Edit Foto Basic", price:"Rp30.000"},
  {name:"Edit Foto Pro", price:"Rp50.000"},
  {name:"Edit Foto Premium", price:"Rp80.000"},
  {name:"Edit Foto Wedding", price:"Rp120.000"},
  {name:"Edit Foto Fashion", price:"Rp150.000"},
  {name:"Edit Video Basic", price:"Rp70.000"},
  {name:"Edit Video Pro", price:"Rp120.000"},
  {name:"Edit Video Premium", price:"Rp200.000"},
  {name:"Edit Video Cinematic", price:"Rp300.000"},
  {name:"Edit Video Wedding", price:"Rp500.000"}
];

// ðŸ”¹ Render Produk
function renderProducts(){
  const list=document.getElementById("product-list");
  list.innerHTML="";
  products.forEach(p=>{
    const div=document.createElement("div");
    div.className="product";
    div.innerHTML=`<h3>${p.name}</h3>
      <p>Harga: ${p.price}</p>
      <a href="https://wa.me/6287740979784?text=Halo,%20saya%20ingin%20beli%20${encodeURIComponent(p.name)}%20(${p.price})" target="_blank">
      <button class="whatsapp">Beli via WhatsApp</button></a>`;
    list.appendChild(div);
  });
}

// ðŸ”¹ Auth Functions
function register(){
  const email=document.getElementById("email").value;
  const password=document.getElementById("password").value;
  auth.createUserWithEmailAndPassword(email,password)
    .then(userCredential=>{
      document.getElementById("status").innerText="âœ… Registrasi sukses: "+userCredential.user.email;
      showDashboard();
    })
    .catch(err=>document.getElementById("status").innerText="âŒ "+err.message);
}

function login(){
  const email=document.getElementById("email").value;
  const password=document.getElementById("password").value;
  auth.signInWithEmailAndPassword(email,password)
    .then(userCredential=>{
      document.getElementById("status").innerText="âœ… Login sukses: "+userCredential.user.email;
      showDashboard();
    })
    .catch(err=>document.getElementById("status").innerText="âŒ "+err.message);
}

function loginGoogle(){
  const provider=new firebase.auth.GoogleAuthProvider();
  auth.signInWithPopup(provider)
    .then(result=>{
      document.getElementById("status").innerText="âœ… Login Google sukses: "+result.user.email;
      showDashboard();
    })
    .catch(err=>document.getElementById("status").innerText="âŒ "+err.message);
}

function logout(){
  auth.signOut().then(()=>showPage("auth-card"));
}

// ðŸ”¹ Show Dashboard
function showDashboard(){
  showPage("dashboard");
  renderProducts();
}

function showPage(id){
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

// ðŸ”¹ Auto login jika sudah login
auth.onAuthStateChanged(user=>{
  if(user) showDashboard();
  else showPage("auth-card");
});
</script>
</body>
</html>
